<style>
.card-img-top {
  width: 100%;
  height: 300px;
  object-fit: cover;
}
  }
</style>

<% Post.all.each do |post| %>
  <div class="modal" id="postmodal-<%=post.id%>" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-content">
  <div class="modal-body">
  <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="position:fixed; float:right;">
    <span aria-hidden="true">&times;</span>
  </button>
  <%= image_tag(post.image, :align => "middle") %>
  </div>
  </div>
  </div>
  <% end %>

<section class="py-5 text-center container">
    <div class="row py-lg-5">
      <div class="col-lg-6 col-md-8 mx-auto">
        <h1 class="fw-light"><%= current_user.present? ? 'Welcome back ' + current_user.username : 'Welcome to Picture Shack' %></h1>
        <p class="lead text-muted">Check out these posts!</p>
      </div>
    </div>
  </section>

  <div class="gallery-block cards-gallery">
  <div class="container">
  <div class="row row-cols-1 row-cols-md-3 g-4">
      <% Post.all.each do |post| %>
        <div class="col">
        <div class="text-center"> 
          <div class="card shadow-sm">
            <%=link_to image_tag(post.thumb, class: "card-img-top"), "#postmodal-"+post.id.to_s ,"data-toggle" => "modal" %>          <div class="card-body">
            <p class="card-text"><%= post.title %></p>
            <p class="card-text">By User: <%= post.gallery.user.username %></p>
          </div>
        </div>
        </div>
      </div>
      <% end %>
    </div>
  </div>
  </div>

